<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>King Shot Troop Calculator</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      padding: 1rem;
      max-width: 400px;
      margin: auto;
    }
    input {
      width: 100%;
      padding: 0.6rem;
      margin-bottom: 0.8rem;
      font-size: 1rem;
    }
    button {
      width: 100%;
      padding: 0.8rem;
      font-size: 1.1rem;
    }
    .result {
      margin-top: 1rem;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h2>King Shot Troop Calculator</h2>

<input id="troops" type="number" placeholder="Total Troops">
<input id="marches" type="number" placeholder="Total Marches">

<label>Inf %</label>
<select id="inf"></select>

<label>Cav %</label>
<select id="cav"></select>

<label>Archer %</label>
<select id="arch"></select>

<button onclick="calculate()">Calculate</button>

<div class="result" id="output"></div>

<script>
function populateRatios() {
  const selects = ["inf", "cav", "arch"];

  selects.forEach(id => {
    const select = document.getElementById(id);
    select.innerHTML = "";

    for (let i = 0; i <= 100; i += 10) {
      const option = document.createElement("option");
      option.value = i;
      option.textContent = i + "%";
      select.appendChild(option);
    }
  });

  // Default values
  document.getElementById("inf").value = 25;
  document.getElementById("cav").value = 35;
  document.getElementById("arch").value = 40;
}

function calculate() {
  const troops = Number(document.getElementById("troops").value);
  const marches = Number(document.getElementById("marches").value);

  const inf = Number(document.getElementById("inf").value) / 100;
  const cav = Number(document.getElementById("cav").value) / 100;
  const arch = Number(document.getElementById("arch").value) / 100;

  if (!troops || !marches) {
    document.getElementById("output").innerText =
      "Please enter total troops and marches.";
    return;
  }

  if (inf + cav + arch !== 1) {
    document.getElementById("output").innerText =
      "Ratios must add up to 100%.";
    return;
  }

  const perMarch = troops / marches;

  document.getElementById("output").innerHTML = `
    Per March: ${Math.floor(perMarch)}<br>
    Infantry: ${Math.floor(perMarch * inf)}<br>
    Cavalry: ${Math.floor(perMarch * cav)}<br>
    Archers: ${Math.floor(perMarch * arch)}
  `;
}

// Run once when page loads
populateRatios();
</script>

</body>
</html>
